{"version":3,"file":"static/js/236.14529872.chunk.js","mappings":"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","sources":["screens/Leaderboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { db } from '../firebase/config';\r\nimport { collection, query, orderBy, limit, onSnapshot } from 'firebase/firestore';\r\nimport useGameStore from '../store/gameStore';\r\nimport './Leaderboard.css';\r\n\r\nconst Leaderboard = ({ onBack }) => {\r\n  const { user, gameStats } = useGameStore();\r\n  const [leaderboardData, setLeaderboardData] = useState([]);\r\n  const [activeTab, setActiveTab] = useState('overall'); // overall, department, weekly\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  // ì‹¤ì‹œê°„ ë¦¬ë”ë³´ë“œ ë°ì´í„° êµ¬ë…\r\n  useEffect(() => {\r\n    const loadLeaderboard = () => {\r\n      setIsLoading(true);\r\n      \r\n      const q = query(\r\n        collection(db, 'leaderboard'),\r\n        orderBy('totalPoints', 'desc'),\r\n        limit(100)\r\n      );\r\n\r\n      const unsubscribe = onSnapshot(q, (snapshot) => {\r\n        const data = snapshot.docs.map((doc, index) => ({\r\n          id: doc.id,\r\n          rank: index + 1,\r\n          ...doc.data(),\r\n        }));\r\n        \r\n        setLeaderboardData(data);\r\n        setIsLoading(false);\r\n      });\r\n\r\n      return unsubscribe;\r\n    };\r\n\r\n    const unsubscribe = loadLeaderboard();\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  // í˜„ì¬ ì‚¬ìš©ìì˜ ìˆœìœ„ ì°¾ê¸°\r\n  const getUserRank = () => {\r\n    const userIndex = leaderboardData.findIndex(item => item.id === user.id);\r\n    return userIndex !== -1 ? userIndex + 1 : '-';\r\n  };\r\n\r\n  // ëª¨ì˜ ë°ì´í„° (Firebase ì—°ê²° ì „ í…ŒìŠ¤íŠ¸ìš©)\r\n  const mockData = [\r\n    { id: '1', rank: 1, name: 'ê¹€ì² ìˆ˜', department: 'AIê²½ì˜í•™ê³¼', level: 15, totalPoints: 1520, avatar: 'ğŸ“' },\r\n    { id: '2', rank: 2, name: 'ì´ì˜í¬', department: 'ì»´í“¨í„°ê³µí•™ê³¼', level: 14, totalPoints: 1450, avatar: 'ğŸ‘©â€ğŸ“' },\r\n    { id: '3', rank: 3, name: 'ë°•ë¯¼ìˆ˜', department: 'AIê²½ì˜í•™ê³¼', level: 13, totalPoints: 1380, avatar: 'ğŸ§‘â€ğŸ“' },\r\n    { id: '4', rank: 4, name: 'ì •ì†Œì—°', department: 'ê²½ì˜í•™ê³¼', level: 12, totalPoints: 1250, avatar: 'ğŸ‘¨â€ğŸ“' },\r\n    { id: '5', rank: 5, name: 'ìµœì¤€í˜¸', department: 'ì†Œí”„íŠ¸ì›¨ì–´í•™ê³¼', level: 11, totalPoints: 1180, avatar: 'ğŸ¯' },\r\n    { id: 'user', rank: getUserRank(), name: user.name, department: user.department, level: gameStats.level, totalPoints: gameStats.totalPoints, avatar: user.avatar },\r\n  ];\r\n\r\n  const displayData = leaderboardData.length > 0 ? leaderboardData : mockData;\r\n\r\n  // ìˆœìœ„ì— ë”°ë¥¸ ë©”ë‹¬ ì´ëª¨ì§€\r\n  const getRankEmoji = (rank) => {\r\n    switch (rank) {\r\n      case 1: return 'ğŸ¥‡';\r\n      case 2: return 'ğŸ¥ˆ';\r\n      case 3: return 'ğŸ¥‰';\r\n      default: return `#${rank}`;\r\n    }\r\n  };\r\n\r\n  // ìˆœìœ„ ìƒ‰ìƒ\r\n  const getRankColor = (rank) => {\r\n    switch (rank) {\r\n      case 1: return '#FFD700';\r\n      case 2: return '#C0C0C0';\r\n      case 3: return '#CD7F32';\r\n      default: return '#667eea';\r\n    }\r\n  };\r\n\r\n  // íƒ­ í•„í„°ë§\r\n  const getFilteredData = () => {\r\n    switch (activeTab) {\r\n      case 'department':\r\n        return displayData.filter(item => item.department === user.department);\r\n      case 'weekly':\r\n        // ì£¼ê°„ ë°ì´í„°ëŠ” ë³„ë„ ì²˜ë¦¬ í•„ìš”\r\n        return displayData.slice(0, 10);\r\n      default:\r\n        return displayData;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"leaderboard-container\">\r\n      {/* í—¤ë” */}\r\n      <div className=\"leaderboard-header\">\r\n        <button className=\"back-button\" onClick={onBack}>\r\n          â† ëŒì•„ê°€ê¸°\r\n        </button>\r\n        <h1>ğŸ† ë¦¬ë”ë³´ë“œ</h1>\r\n      </div>\r\n\r\n      {/* íƒ­ ë©”ë‰´ */}\r\n      <div className=\"tab-menu\">\r\n        <button \r\n          className={`tab-button ${activeTab === 'overall' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('overall')}\r\n        >\r\n          ì „ì²´\r\n        </button>\r\n        <button \r\n          className={`tab-button ${activeTab === 'department' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('department')}\r\n        >\r\n          í•™ê³¼\r\n        </button>\r\n        <button \r\n          className={`tab-button ${activeTab === 'weekly' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('weekly')}\r\n        >\r\n          ì£¼ê°„\r\n        </button>\r\n      </div>\r\n\r\n      {/* ë‚´ ìˆœìœ„ ì¹´ë“œ */}\r\n      <motion.div \r\n        className=\"my-rank-card\"\r\n        initial={{ scale: 0.9, opacity: 0 }}\r\n        animate={{ scale: 1, opacity: 1 }}\r\n        transition={{ duration: 0.3 }}\r\n      >\r\n        <div className=\"my-rank-info\">\r\n          <span className=\"my-rank-label\">ë‚´ ìˆœìœ„</span>\r\n          <span className=\"my-rank-number\" style={{ color: getRankColor(getUserRank()) }}>\r\n            {getRankEmoji(getUserRank())}\r\n          </span>\r\n        </div>\r\n        <div className=\"my-stats\">\r\n          <div className=\"stat-item\">\r\n            <span className=\"stat-label\">ë ˆë²¨</span>\r\n            <span className=\"stat-value\">{gameStats.level}</span>\r\n          </div>\r\n          <div className=\"stat-item\">\r\n            <span className=\"stat-label\">í¬ì¸íŠ¸</span>\r\n            <span className=\"stat-value\">{gameStats.totalPoints}</span>\r\n          </div>\r\n          <div className=\"stat-item\">\r\n            <span className=\"stat-label\">ë‹µë³€</span>\r\n            <span className=\"stat-value\">{gameStats.questionsAnswered}</span>\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n\r\n      {/* ë¦¬ë”ë³´ë“œ ëª©ë¡ */}\r\n      <div className=\"leaderboard-list\">\r\n        {isLoading ? (\r\n          <div className=\"loading\">ë¡œë”© ì¤‘...</div>\r\n        ) : (\r\n          getFilteredData().map((item, index) => (\r\n            <motion.div\r\n              key={item.id}\r\n              className={`leaderboard-item ${item.id === user.id ? 'current-user' : ''}`}\r\n              initial={{ opacity: 0, x: -50 }}\r\n              animate={{ opacity: 1, x: 0 }}\r\n              transition={{ delay: index * 0.05 }}\r\n              whileHover={{ scale: 1.02 }}\r\n            >\r\n              <div className=\"rank-section\">\r\n                <span className=\"rank\" style={{ color: getRankColor(item.rank) }}>\r\n                  {getRankEmoji(item.rank)}\r\n                </span>\r\n              </div>\r\n              \r\n              <div className=\"player-info\">\r\n                <div className=\"player-avatar\">{item.avatar}</div>\r\n                <div className=\"player-details\">\r\n                  <div className=\"player-name\">{item.name}</div>\r\n                  <div className=\"player-department\">{item.department}</div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"player-stats\">\r\n                <div className=\"level-badge\">Lv.{item.level}</div>\r\n                <div className=\"points\">{item.totalPoints} pts</div>\r\n              </div>\r\n            </motion.div>\r\n          ))\r\n        )}\r\n      </div>\r\n\r\n      {/* í•˜ë‹¨ í†µê³„ */}\r\n      <div className=\"leaderboard-footer\">\r\n        <div className=\"stat-card\">\r\n          <span className=\"stat-icon\">ğŸ‘¥</span>\r\n          <span className=\"stat-text\">ì´ {displayData.length}ëª… ì°¸ì—¬</span>\r\n        </div>\r\n        <div className=\"stat-card\">\r\n          <span className=\"stat-icon\">ğŸ“Š</span>\r\n          <span className=\"stat-text\">í‰ê·  {Math.round(displayData.reduce((acc, cur) => acc + cur.totalPoints, 0) / displayData.length)} pts</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Leaderboard;\r\n"],"names":["_ref","onBack","user","gameStats","useGameStore","leaderboardData","setLeaderboardData","useState","activeTab","setActiveTab","isLoading","setIsLoading","useEffect","unsubscribe","loadLeaderboard","q","query","collection","db","orderBy","limit","onSnapshot","snapshot","data","docs","map","doc","index","_objectSpread","id","rank","getUserRank","userIndex","findIndex","item","mockData","name","department","level","totalPoints","avatar","displayData","length","getRankEmoji","concat","getRankColor","_jsxs","className","children","_jsx","onClick","motion","div","initial","scale","opacity","animate","transition","duration","style","color","questionsAnswered","getFilteredData","filter","slice","x","delay","whileHover","Math","round","reduce","acc","cur"],"ignoreList":[],"sourceRoot":""}