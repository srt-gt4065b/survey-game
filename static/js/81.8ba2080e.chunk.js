"use strict";(self.webpackChunkgamified_survey_system=self.webpackChunkgamified_survey_system||[]).push([[81],{81:(e,i,t)=>{t.r(i),t.d(i,{default:()=>x});var n=t(555),o=t(43),s=t(766),r=t.n(s),d=t(335),l=t(472),a=t(579);const c="6645";function p(e){const i=(e.en||"").trim();return{en:i,ko:(e.ko||i).trim(),zh:(e.zh||i).trim(),kk:(e.kk||i).trim(),bn:(e.bn||i).trim(),uz:(e.uz||i).trim()}}function x(){const[e,i]=(0,o.useState)(!1),[t,s]=(0,o.useState)(""),[x,g]=(0,o.useState)(""),[f,u]=(0,o.useState)("dashboard"),[b,m]=(0,o.useState)(!1),[j,y]=(0,o.useState)([]),S=async()=>{const e=(await(0,l.GG)((0,l.rJ)(d.db,"questions"))).docs.map(e=>(0,n.A)({id:e.id},e.data()));e.sort((e,i)=>(e.id||"").localeCompare(i.id||"")),y(e)};(0,o.useEffect)(()=>{e&&S()},[e]);const v=e=>{e.preventDefault(),t===c?(i(!0),g("")):g("\ube44\ubc00\ubc88\ud638\uac00 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")};return e?(0,a.jsx)("div",{style:{minHeight:"100vh",background:"#f3f4f6",padding:"24px 16px 40px"},children:(0,a.jsxs)("div",{style:{maxWidth:1100,margin:"0 auto"},children:[(0,a.jsxs)("header",{style:{marginBottom:24,display:"flex",justifyContent:"space-between",alignItems:"center",gap:12},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{style:{fontSize:24,marginBottom:4},children:"\ud83d\udee0 \uc124\ubb38 \uad00\ub9ac\uc790 \ub300\uc2dc\ubcf4\ub4dc"}),(0,a.jsx)("p",{style:{fontSize:13,color:"#6b7280"},children:"CSV \uc5c5\ub85c\ub4dc, \ubb38\ud56d \uad00\ub9ac, \uc751\ub2f5/\uc21c\uc704\ub97c \ud55c \ud654\uba74\uc5d0\uc11c \uad00\ub9ac\ud569\ub2c8\ub2e4."})]}),(0,a.jsxs)("div",{style:{textAlign:"right",fontSize:12,color:"#9ca3af"},children:[(0,a.jsxs)("div",{children:["Logged in as: ",(0,a.jsx)("strong",{children:"Admin"})]}),(0,a.jsx)("button",{onClick:()=>i(!1),style:{marginTop:6,padding:"4px 10px",borderRadius:999,border:"1px solid #d1d5db",background:"white",cursor:"pointer",fontSize:12},children:"\ub85c\uadf8\uc544\uc6c3"})]})]}),(0,a.jsxs)("section",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:16,marginBottom:24},children:[(0,a.jsx)(h,{title:"\ud83d\udce5 \uc124\ubb38 \uc5c5\ub85c\ub4dc",description:"CSV \ud30c\uc77c\ub85c \uc124\ubb38 \ubb38\ud56d\uc744 \uc77c\uad04 \ub4f1\ub85d\ud569\ub2c8\ub2e4.",active:"upload"===f,onClick:()=>u("upload")}),(0,a.jsx)(h,{title:"\ud83d\udcdd \uc124\ubb38 \uad00\ub9ac",description:"\ub4f1\ub85d\ub41c \ubb38\ud56d\uc744 \ud655\uc778\ud558\uace0 \uad00\ub9ac\ud569\ub2c8\ub2e4.",active:"questions"===f,onClick:()=>u("questions")}),(0,a.jsx)(h,{title:"\ud83d\udc65 \uc751\ub2f5 \ud604\ud669",description:"\ud5a5\ud6c4: \ud559\uc0dd \uc751\ub2f5 \ub370\uc774\ud130 \uc694\uc57d / \ub2e4\uc6b4\ub85c\ub4dc",active:"responses"===f,onClick:()=>u("responses")}),(0,a.jsx)(h,{title:"\ud83c\udfc6 \uc21c\uc704 / \uc810\uc218",description:"\ud5a5\ud6c4: \uac8c\uc784 \uc810\uc218 \ubc0f \uc21c\uc704 \uad00\ub9ac",active:"leaderboard"===f,onClick:()=>u("leaderboard")}),(0,a.jsx)(h,{title:"\u2699 \uc2dc\uc2a4\ud15c \uc124\uc815",description:"\ud5a5\ud6c4: \uc5b8\uc5b4, \ube44\ubc00\ubc88\ud638, \ubc31\uc5c5 \uc124\uc815",active:"settings"===f,onClick:()=>u("settings")})]}),(0,a.jsxs)("section",{style:{borderRadius:16,background:"white",padding:20,boxShadow:"0 10px 25px rgba(15,23,42,0.06)"},children:["dashboard"===f&&(0,a.jsx)("p",{children:"\uc67c\ucabd \uce74\ub4dc\uc5d0\uc11c \uae30\ub2a5\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."}),"upload"===f&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{style:{fontSize:18,marginBottom:8},children:"\ud83d\udce5 CSV \uc5c5\ub85c\ub4dc"}),(0,a.jsxs)("p",{style:{fontSize:13,color:"#6b7280",marginBottom:12},children:[(0,a.jsx)("code",{children:"id, category, type, en, ko, zh, kk, bn, uz, options"})," ","\ud5e4\ub354\ub97c \uac00\uc9c4 CSV \ud30c\uc77c\uc744 \uc5c5\ub85c\ub4dc\ud558\uba74, Firestore\uc758"," ",(0,a.jsx)("code",{children:"questions"})," \uceec\ub809\uc158\uc5d0 \ubb38\ud56d\uc774 \uc800\uc7a5\ub429\ub2c8\ub2e4.",(0,a.jsx)("br",{}),"(ko/zh/kk/bn/uz\uac00 \ube44\uc5b4 \uc788\uc73c\uba74 \uc6b0\uc120 \uc601\uc5b4(en)\ub97c \ubcf5\uc0ac\ud574 \ub123\uc5b4\ub461\ub2c8\ub2e4.)"]}),(0,a.jsx)("input",{type:"file",accept:".csv",onChange:e=>{var i;const t=null===(i=e.target.files)||void 0===i?void 0:i[0];t&&(m(!0),r().parse(t,{header:!0,skipEmptyLines:!0,complete:async i=>{try{const e=i.data;for(let i=0;i<e.length;i++){const t=e[i],n=t.id&&t.id.trim()||"Q".concat(i+1),o=(t.type||"likert").trim(),s=p(t);let r=null;"likert"===o?r=[1,2,3,4,5]:t.options&&(r=t.options.split("|").map(e=>e.trim())),await(0,l.BN)((0,l.H9)(d.db,"questions",n),{id:n,category:t.category||"",type:o,text:s,options:r})}alert("\u2705 CSV \uc5c5\ub85c\ub4dc\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),await S()}catch(t){console.error(t),alert("\u274c CSV \uc5c5\ub85c\ub4dc \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. (\ucf58\uc194 \ub85c\uadf8 \ud655\uc778)")}finally{m(!1),e.target.value=""}},error:e=>{console.error(e),alert("\u274c CSV \ud30c\uc2f1\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),m(!1)}}))},disabled:b}),b&&(0,a.jsx)("p",{style:{fontSize:13,marginTop:8},children:"\u23f3 \uc5c5\ub85c\ub4dc \uc911\uc785\ub2c8\ub2e4\u2026"})]}),"questions"===f&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10,gap:8},children:[(0,a.jsxs)("h2",{style:{fontSize:18},children:["\ud83d\udcdd \ub4f1\ub85d\ub41c \uc124\ubb38 \ubb38\ud56d (",j.length,"\uac1c)"]}),(0,a.jsx)("button",{onClick:async()=>{if(!window.confirm("\u26a0 \uc815\ub9d0\ub85c \uc804\uccb4 \ubb38\ud56d\uc744 \uc0ad\uc81c\ud560\uae4c\uc694?"))return;const e=await(0,l.GG)((0,l.rJ)(d.db,"questions"));for(let i of e.docs)await(0,l.kd)((0,l.H9)(d.db,"questions",i.id));await S()},style:{background:"#ef4444",color:"white",border:"none",padding:"6px 12px",borderRadius:999,fontSize:12,cursor:"pointer"},children:"\u26a0 \uc804\uccb4 \ubb38\ud56d \uc0ad\uc81c"})]}),0===j.length&&(0,a.jsxs)("p",{style:{fontSize:13,color:"#6b7280"},children:["\uc544\uc9c1 \ub4f1\ub85d\ub41c \ubb38\ud56d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \uc0c1\ub2e8\uc758"," ",(0,a.jsx)("strong",{children:"\ud83d\udce5 \uc124\ubb38 \uc5c5\ub85c\ub4dc"}),"\uc5d0\uc11c CSV\ub97c \uc5c5\ub85c\ub4dc\ud574\uc8fc\uc138\uc694."]}),(0,a.jsx)("div",{style:{marginTop:10,maxHeight:"60vh",overflow:"auto"},children:j.map(e=>{var i;return(0,a.jsxs)("div",{style:{padding:10,borderRadius:10,border:"1px solid #e5e7eb",marginBottom:8,background:"#f9fafb",display:"flex",justifyContent:"space-between",alignItems:"center",gap:8},children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{fontSize:13,fontWeight:600,marginBottom:2},children:[e.id," ",(0,a.jsxs)("span",{style:{fontWeight:400,color:"#6b7280",marginLeft:4},children:["[",e.type,"] ",e.category]})]}),(0,a.jsx)("div",{style:{fontSize:12,color:"#4b5563",lineHeight:1.4},children:(null===(i=e.text)||void 0===i?void 0:i.en)||"(\uc601\ubb38 \ubb38\ud56d \uc5c6\uc74c)"})]}),(0,a.jsx)("button",{onClick:()=>(async e=>{window.confirm("".concat(e," \ubb38\ud56d\uc744 \uc0ad\uc81c\ud560\uae4c\uc694?"))&&(await(0,l.kd)((0,l.H9)(d.db,"questions",e)),await S())})(e.id),style:{padding:"4px 10px",background:"#dc2626",color:"#fff",borderRadius:6,border:"none",cursor:"pointer",fontSize:11,whiteSpace:"nowrap"},children:"\uc0ad\uc81c"})]},e.id)})})]}),"responses"===f&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{style:{fontSize:18,marginBottom:8},children:"\ud83d\udc65 \uc751\ub2f5 \ud604\ud669"}),(0,a.jsxs)("p",{style:{fontSize:13,color:"#6b7280"},children:["\uc774 \uc601\uc5ed\uc5d0\uc11c\ub294 \ucd94\ud6c4 Firebase\uc5d0 \uc800\uc7a5\ub41c \ud559\uc0dd \uc751\ub2f5 \ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc640",(0,a.jsx)("br",{}),"\uc694\uc57d \ud1b5\uacc4, CSV \ub2e4\uc6b4\ub85c\ub4dc, \ud544\ud130\ub9c1 \uae30\ub2a5 \ub4f1\uc744 \uc81c\uacf5\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]})]}),"leaderboard"===f&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{style:{fontSize:18,marginBottom:8},children:"\ud83c\udfc6 \uc21c\uc704 / \uc810\uc218"}),(0,a.jsxs)("p",{style:{fontSize:13,color:"#6b7280"},children:["\ud604\uc7ac\ub294 \uac8c\uc784 \ucabd \ub9ac\ub354\ubcf4\ub4dc\uc5d0\uc11c \uc810\uc218\uc640 \uc21c\uc704\ub97c \uad00\ub9ac\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4.",(0,a.jsx)("br",{}),"\uc774 \uc601\uc5ed\uc5d0\uc11c\ub294 \ucd94\ud6c4 \uc124\ubb38 \uc644\ub8cc \uc5ec\ubd80\uc640 \uac8c\uc784 \uc810\uc218 \uc5f0\ub3d9, \ubcf4\uc0c1 \uad00\ub9ac \ub4f1\uc744 \ucd94\uac00\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]})]}),"settings"===f&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{style:{fontSize:18,marginBottom:8},children:"\u2699 \uc2dc\uc2a4\ud15c \uc124\uc815"}),(0,a.jsx)("p",{style:{fontSize:13,color:"#6b7280"},children:"\ud5a5\ud6c4 \uc774 \uc601\uc5ed\uc5d0\uc11c:"}),(0,a.jsxs)("ul",{style:{fontSize:13,color:"#4b5563",paddingLeft:18},children:[(0,a.jsx)("li",{children:"\uae30\ubcf8 \uc5b8\uc5b4 \uc124\uc815 (\uc608: \uc601\uc5b4 / \ud55c\uad6d\uc5b4)"}),(0,a.jsx)("li",{children:"\uad00\ub9ac\uc790 \ube44\ubc00\ubc88\ud638 \ubcc0\uacbd"}),(0,a.jsx)("li",{children:"\ub370\uc774\ud130 \ubc31\uc5c5/\ubcf5\uc6d0 \uc2a4\ud06c\ub9bd\ud2b8 \uc5f0\ub3d9"}),(0,a.jsx)("li",{children:"Firebase \ud504\ub85c\uc81d\ud2b8 \uc804\ud658 \ub4f1"})]})]})]})]})}):(0,a.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#0f172a",color:"#e5e7eb",padding:20},children:(0,a.jsxs)("div",{style:{background:"#020617",padding:"32px 28px",borderRadius:16,maxWidth:360,width:"100%",boxShadow:"0 18px 45px rgba(0,0,0,0.6)",border:"1px solid #1e293b"},children:[(0,a.jsx)("h1",{style:{fontSize:22,marginBottom:8},children:"\ud83d\udee1 Admin Login"}),(0,a.jsxs)("p",{style:{fontSize:13,marginBottom:20,color:"#9ca3af",lineHeight:1.4},children:["\uc124\ubb38 \uad00\ub9ac \uc804\uc6a9 \ud654\uba74\uc785\ub2c8\ub2e4.",(0,a.jsx)("br",{}),"\uad00\ub9ac\uc790 \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."]}),(0,a.jsxs)("form",{onSubmit:v,children:[(0,a.jsx)("label",{style:{display:"block",fontSize:13,marginBottom:6,color:"#cbd5f5"},children:"\ube44\ubc00\ubc88\ud638 (Password)"}),(0,a.jsx)("input",{type:"password",value:t,onChange:e=>s(e.target.value),style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #334155",marginBottom:10,background:"#020617",color:"#e5e7eb",outline:"none"}}),x&&(0,a.jsx)("p",{style:{color:"#f97373",fontSize:12,marginBottom:8},children:x}),(0,a.jsx)("button",{type:"submit",style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"none",background:"linear-gradient(135deg, #4f46e5 0%, #0ea5e9 100%)",color:"white",fontWeight:600,cursor:"pointer",marginTop:4},children:"\ub85c\uadf8\uc778"})]})]})})}function h(e){let{title:i,description:t,active:n,onClick:o}=e;return(0,a.jsxs)("button",{onClick:o,style:{textAlign:"left",borderRadius:16,border:n?"2px solid #4f46e5":"1px solid #e5e7eb",padding:"14px 14px 16px",background:n?"#eef2ff":"#ffffff",cursor:"pointer",boxShadow:n?"0 10px 25px rgba(79,70,229,0.25)":"0 4px 10px rgba(15,23,42,0.08)",transition:"all 0.15s ease"},children:[(0,a.jsx)("div",{style:{fontSize:16,marginBottom:4},children:i}),(0,a.jsx)("div",{style:{fontSize:13,color:"#6b7280"},children:t})]})}}}]);
//# sourceMappingURL=81.8ba2080e.chunk.js.map