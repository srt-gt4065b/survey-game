{"version":3,"file":"static/js/979.17706236.chunk.js","mappings":"qNAiHA,QA9GA,SAAqBA,GAajB,IAADC,EAAAC,EAAA,IAbmB,SACpBC,EAAQ,KACRC,EAAI,OACJC,EAAM,SACNC,EAAQ,OACRC,EAAM,OACNC,EAAM,OACNC,EAAM,OACNC,EAAM,eACNC,EAAc,gBACdC,EAAe,aACfC,EAAY,eACZC,GACDd,EACC,IAAKG,EAAU,OAAO,KAEtB,MAAMY,GAASZ,EAASa,MAAQ,IAAIC,cAG9BC,EAAoBC,MAAMC,QAAQjB,EAASkB,SAC7ClB,EAASkB,QACmB,kBAArBlB,EAASkB,QAChBlB,EAASkB,QAAQC,MAAM,KACvB,GAYEC,EAA0B,WAAVR,EATA,CACpB,iBACA,QACA,UACA,WACA,qBAIyDG,EAM3D,OACEM,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAE5BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oBAAmBC,SAAA,EAChCF,EAAAA,EAAAA,MAAA,QAAMC,UAAU,mBAAkBC,SAAA,EAChCF,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,WAASvB,EAASwB,aAAa,OAAK,IAAExB,EAASyB,aAGpDJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC9Bb,EAAe,EAAE,MAAIC,SAK1Be,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,mBAAkBC,UAChB,QAAbzB,EAAAE,EAAS2B,YAAI,IAAA7B,OAAA,EAAbA,EAAgBG,MAAsB,QAAjBF,EAAIC,EAAS2B,YAAI,IAAA5B,OAAA,EAAbA,EAAe6B,KAAM,MAIjDF,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,aAAYC,SACxBH,EAAcS,IAAI,CAACC,EAAKC,KACvB,MAAMC,EAAW9B,IAAW4B,EAE5B,OACET,EAAAA,EAAAA,MAAA,OAEEC,UAAS,aAAAW,OAAeD,EAAW,WAAa,IAChDE,QAASA,IA/BCJ,KACpB3B,EAAS2B,IA8BgBK,CAAaL,GAAKP,SAAA,EAGjCG,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,mBAAkBC,SAAEQ,EAAM,KAG1CL,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,kBAAiBC,SAAEO,MAR9BC,QAebV,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BG,EAAAA,EAAAA,KAAA,UACEU,SAAU3B,EACVa,UAAU,cACVY,QAAS7B,EAAOkB,SACjB,iBAIDG,EAAAA,EAAAA,KAAA,UAAQJ,UAAU,cAAcY,QAAS5B,EAAOiB,SAAC,iBAIjDG,EAAAA,EAAAA,KAAA,UAAQJ,UAAU,cAAcY,QAAS3B,EAAOgB,SAAC,iBAIjDG,EAAAA,EAAAA,KAAA,UACEU,UAAWlC,EACXoB,UAAU,cACVY,QAAS9B,EAAOmB,SACjB,qBAMT,EC7CA,EA9DmB1B,IAA0B,IAAzB,gBAAEwC,GAAiBxC,EACrC,MAAM,KAAEyC,EAAI,UAAEC,IAAcC,EAAAA,EAAAA,KAE5B,OACEnB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,EAE1BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oBAAmBC,SAAA,EAChCG,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,cAAaC,UAAM,OAAJe,QAAI,IAAJA,OAAI,EAAJA,EAAMG,SAAU,kBAC9CpB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BG,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,YAAWC,UAAM,OAAJe,QAAI,IAAJA,OAAI,EAAJA,EAAMI,OAAQ,aAC1CrB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACnB,OAAJe,QAAI,IAAJA,OAAI,EAAJA,EAAMK,aAAatB,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAM,OAAKe,EAAKK,cAC/B,OAAJL,QAAI,IAAJA,OAAI,EAAJA,EAAMM,cAAclB,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,YAAWC,SAAEe,EAAKM,sBAM5DP,IACChB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BC,SAAA,EACvCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,CAAC,qBACVc,EAAgBQ,QAAQ,MAAIR,EAAgBS,UAEjEpB,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,yBAAwBC,UACrCG,EAAAA,EAAAA,KAAA,OACEJ,UAAU,oBACVyB,MAAO,CAAEC,MAAM,GAADf,OAAMI,EAAgBQ,QAAUR,EAAgBS,MAAS,IAAG,cAOlFzB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUC,SAAA,EACvBG,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,YAAWC,SAAC,YAC3BG,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,aAAYC,UAAW,OAATgB,QAAS,IAATA,OAAS,EAATA,EAAWU,QAAS,KACjDvB,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,aAAYC,SAAC,cAG9BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUC,SAAA,EACvBG,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,YAAWC,SAAC,kBAC3BG,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,aAAYC,UAAW,OAATgB,QAAS,IAATA,OAAS,EAATA,EAAWW,aAAc,KACtDxB,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,aAAYC,SAAC,YAG9BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUC,SAAA,EACvBG,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,YAAWC,SAAC,kBAC3BG,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,aAAYC,UAAW,OAATgB,QAAS,IAATA,OAAS,EAATA,EAAWY,SAAU,KAClDzB,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,aAAYC,SAAC,eAG9BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUC,SAAA,EACvBG,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,YAAWC,SAAC,kBAC3BG,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,aAAYC,UAAW,OAATgB,QAAS,IAATA,OAAS,EAATA,EAAWa,QAAS,KACjD1B,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,aAAYC,SAAC,oBCxDvB,SAAS8B,EAAQxD,GAAkB,IAAjB,WAAEyD,GAAYzD,EAC7C,OACE6B,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,YAAWC,UACxBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BG,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,oBAAmBC,SAAC,kBACnCG,EAAAA,EAAAA,KAAA,MAAAH,SAAI,gBACJG,EAAAA,EAAAA,KAAA,KAAAH,SAAG,+DACHG,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,YAAWC,SAAC,2CAEzBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,CACzB+B,IACC5B,EAAAA,EAAAA,KAAA,UAAQJ,UAAU,kBAAkBY,QAASoB,EAAW/B,SAAC,mCAK3DG,EAAAA,EAAAA,KAAA,UACEJ,UAAU,oBACVY,QAASA,IAAMqB,OAAOC,SAASC,SAASlC,SACzC,uCAOX,C,aCdA,MAAMmC,EAAgB,CACpB,sBACA,iCACA,aACA,UACA,2BACA,mBACA,mBACA,eACA,mBACA,YACA,aACA,qDACA,UACA,QACA,sBACA,wBACA,8BACA,sBACA,iBACA,eAMIC,EAAgBC,IACpB,IAAKA,EAAI,OAAOC,OAAOC,iBACvB,MAAMC,EAAQC,OAAOJ,GAAIG,MAAM,OAC/B,OAAOA,EAAQF,OAAOE,EAAM,IAAMF,OAAOC,kBAmU3C,EAlTmBjE,IAAqB,IAADoE,EAAAC,EAAA,IAAnB,WAAEZ,GAAYzD,EAChC,MAAM,KAAEyC,EAAI,eAAE6B,IAAmB3B,EAAAA,EAAAA,MAE1B4B,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,KAClCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAEhCG,EAAqBC,IAA0BJ,EAAAA,EAAAA,UAAS,IACxDK,EAAsBC,IAA2BN,EAAAA,EAAAA,UAAS,IAE1DO,EAASC,IAAcR,EAAAA,EAAAA,UAAS,CAAC,IACjCS,EAAWC,IAAgBV,EAAAA,EAAAA,UAASW,KAAKC,QACzCC,EAAUC,IAAed,EAAAA,EAAAA,WAAS,GAEnCrE,GAAW,OAAJqC,QAAI,IAAJA,OAAI,EAAJA,EAAM+C,WAAY,MAK/BC,EAAAA,EAAAA,WAAU,KACcC,WACpB,IACEf,GAAW,GAGX,IAAIgB,SADeC,EAAAA,EAAAA,KAAQC,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,eAC1BC,KAAK/D,IAAKgE,IAAGC,EAAAA,EAAAA,GAAA,CAC3BC,MAAOF,EAAIjC,IACRiC,EAAIG,SAITR,EAAKS,KAAK,CAACC,EAAGC,IAAMxC,EAAauC,EAAEtC,IAAMD,EAAawC,EAAEvC,KAGxD,MAAMwC,EAAU,CAAC,EACjB,IAAK,MAAMC,KAAKb,EAAM,CACpB,MAAMc,EAAMD,EAAE5E,UAAY,SACrB2E,EAAQE,KAAMF,EAAQE,GAAO,IAClCF,EAAQE,GAAKC,KAAKF,EACpB,CAGA,MAAMG,EAAkB9C,EAAc+C,OAAO,CAACC,EAAKhE,KACjD,MAAMiE,EAAKP,EAAQ1D,GAOnB,OANIiE,GAAMA,EAAGC,OAAS,GACpBF,EAAIH,KAAK,CACP7D,OACAmE,UAAWF,IAGRD,GACN,IAE4B,IAA3BF,EAAgBI,QAClBE,EAAAA,GAAMC,MAAM,mCAGd1C,EAAYmC,GACZ9B,EAAuB,GACvBE,EAAwB,GACxBE,EAAW,CAAC,GACZM,GAAY,GACZJ,EAAaC,KAAKC,MACpB,CAAE,MAAO8B,GACPC,QAAQF,MAAM,mCAA+BC,GAC7CF,EAAAA,GAAMC,MAAM,2BACd,CAAC,QACCvC,GAAW,EACb,GAGF0C,IACC,IAKH,MAAMC,EAAiB/C,EAASK,IAAwB,KAClD2C,EAAmBD,EAAiBA,EAAeN,UAAY,GAC/DQ,EACJD,EAAiBR,OAAS,EAAIQ,EAAiBzC,GAAwB,KAGnE2C,GAAeC,EAAAA,EAAAA,SACnB,IAAMnD,EAASqC,OAAO,CAACe,EAAKC,IAAMD,EAAMC,EAAEZ,UAAUD,OAAQ,GAC5D,CAACxC,IAIGsD,GAAgBH,EAAAA,EAAAA,SACpB,IAAMI,OAAOC,KAAK/C,GAAS+B,OAC3B,CAAC/B,IAGGxC,EAAkB,CACtBQ,QAAS6E,EACT5E,MAAOwE,GAIH9F,EAAemD,EAAuB,EACtCkD,EAAeT,EAAiBR,OA+BhCkB,EAAe,SAACzB,EAAG0B,GAA4B,IAArBC,EAAOC,UAAArB,OAAA,QAAAsB,IAAAD,UAAA,IAAAA,UAAA,GACrC,MACME,GADMlD,KAAKC,MACQH,GAAa,IAEtCD,EAAYsD,IAAItC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACXsC,GAAI,IACP,CAAC/B,EAAEN,OAAQ,CAAEgC,QAAOC,UAASG,gBAI/BhE,EAAegE,EAAW,QAC1BnD,EAAaC,KAAKC,MACpB,EAKMmD,EAASA,KACb,IAAKjE,EAASwC,SAAWO,EAAgB,OAEzC,MAAMmB,EACJ3D,GAAwByC,EAAiBR,OAAS,EAC9C2B,EACJ9D,GAAuBL,EAASwC,OAAS,EAG3C,OAAK0B,EAODC,GACFzB,EAAAA,GAAM0B,QAAQ,sCACdpD,GAAY,QACR9B,GAAYA,OAKlBoB,EAAwB0D,GAASA,EAAO,GACxCxD,EAAwB,QACxBI,EAAaC,KAAKC,SAhBhBN,EAAyBwD,GAASA,EAAO,QACzCpD,EAAaC,KAAKC,SAgFtB,GAAIC,EACF,OAAOzD,EAAAA,EAAAA,KAAC2B,EAAQ,CAACC,WAAYA,IAM/B,GAAIiB,EACF,OACE7C,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,mBAAkBC,UAC/BG,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,iBAAgBC,SAAC,2BAKtC,IAAK4F,IAAmBE,EACtB,OACE3F,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,mBAAkBC,UAC/BG,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,iBAAgBC,SAAC,6BAQtC,MAAMkH,EAAY,CAChB9G,MACsB,QAApBsC,EAAAoD,EAAgB1F,YAAI,IAAAsC,OAAA,EAApBA,EAAuBhE,MACH,QADQiE,EAC5BmD,EAAgB1F,YAAI,IAAAuC,OAAA,EAApBA,EAAsBtC,KACtB,GACF8G,QAASvB,EAAezE,KACxB7B,KAAMwG,EAAgBxG,KACtBK,SA1RqBA,EA0RImG,EAAgBnG,QAzRtCA,EACDF,MAAMC,QAAQC,GAAiBA,EAE5B8C,OAAO9C,GACXC,MAAM,UACNU,IAAK8G,GAAMA,EAAEC,QACbC,OAAQF,GAAMA,EAAE/B,OAAS,GANP,IA0RnBkC,UAAU,GA3RW5H,MA8RvB,OACEG,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBC,SAAA,EAE/BG,EAAAA,EAAAA,KAACqH,EAAU,CAAC1G,gBAAiBA,KAG7BX,EAAAA,EAAAA,KAACsH,EAAY,CAEXhJ,SAAUyI,EAEVQ,eAAgBzH,EAChB0H,eAAgBrB,EAEhBsB,cAAezB,EAAgB,EAC/BJ,aAAcA,EAEd8B,cAAe3E,EAAsB,EACrC4E,YAAalC,EAAezE,KAC5BlB,aAAcA,EACdqG,aAAcA,EAEd1H,SArHgB4H,IACfV,IACLS,EAAaT,EAAiBU,GAAO,GACrCM,MAmHIhI,OAjMaiJ,KACjB,IAAKlF,EAASwC,OAAQ,OAGtB,GAA4B,IAAxBnC,GAAsD,IAAzBE,EAA4B,OAG7D,GAAIA,EAAuB,EAGzB,OAFAC,EAAyBwD,GAASA,EAAO,QACzCpD,EAAaC,KAAKC,OAKpB,MAAMqE,EAAmB9E,EAAsB,EAEzC+E,EADcpF,EAASmF,GACc1C,UAAUD,OAAS,EAE9DlC,EAAuB6E,GACvB3E,EAAwB4E,GACxBxE,EAAaC,KAAKC,QA8Kd5E,OA9GamJ,KACZpC,IACLS,EAAaT,EAAiB,MAAM,GACpCgB,MA4GI9H,OAtGamJ,KACjB,IAAKvC,IAAmBE,EAAiB,OAEzC,MAAMsC,EAAYvC,EAAiBR,OAAS,EAC5C,GAAIjC,GAAwBgF,EAE1B,OAGF,MACMC,GADM3E,KAAKC,MACYH,GAAa,IAE1CD,EAAYsD,IACV,MAAMyB,GAAO/D,EAAAA,EAAAA,GAAA,GAAQsC,GAGrB,IAAK,IAAI0B,EAAInF,EAAsBmF,EAAIH,EAAWG,GAAK,EAAG,CACxD,MAAMzD,EAAIe,EAAiB0C,GACtBD,EAAQxD,EAAEN,SACb8D,EAAQxD,EAAEN,OAAS,CACjBgC,MAAO,KACPC,SAAS,EACTG,UAAW2B,IAAMnF,EAAuBiF,EAAgB,GAG9D,CAEA,OAAOC,IAIT1F,EAAeyF,EAAe,QAG9BhF,EAAwB+E,GACxB3E,EAAaC,KAAKC,SAkDTmC,EAAgBtB,U","sources":["components/QuestionCard.jsx","components/GameHeader.jsx","components/EndScene.jsx","screens/SurveyGame.jsx"],"sourcesContent":["import React from \"react\";\nimport \"./QuestionCard.css\";\n\nfunction QuestionCard({\n  question,\n  lang,\n  answer,\n  onAnswer,\n  onNext,\n  onBack,\n  onSkip,\n  onJump,\n  isLastQuestion,\n  isFirstQuestion,\n  currentIndex,\n  totalInSection,\n}) {\n  if (!question) return null;\n\n  const qType = (question.type || \"\").toLowerCase();\n\n  // ğŸ”¹ ì˜µì…˜ ì •ê·œí™”\n  const normalizedOptions = Array.isArray(question.options)\n    ? question.options\n    : typeof question.options === \"string\"\n    ? question.options.split(\"|\") // ë¬¸ìì—´ë¡œ ì˜¤ë©´ êµ¬ë¶„\n    : [];\n\n  // ğŸ”¹ Likert ê³ ì • ì˜µì…˜\n  const likertOptions = [\n    \"Strongly Agree\",\n    \"Agree\",\n    \"Neutral\",\n    \"Disagree\",\n    \"Strongly Disagree\",\n  ];\n\n  // ğŸ”¹ ì‹¤ì œ ì¶œë ¥í•  ì˜µì…˜ ê²°ì •\n  const answerOptions = qType === \"likert\" ? likertOptions : normalizedOptions;\n\n  const handleSelect = (opt) => {\n    onAnswer(opt);\n  };\n\n  return (\n    <div className=\"question-card\">\n      {/* Section Header */}\n      <div className=\"qc-section-header\">\n        <span className=\"qc-section-title\">\n          <b>Section {question.sectionIndex}.</b> {question.category}\n        </span>\n\n        <div className=\"qc-progress-chip\">\n          {currentIndex + 1} / {totalInSection}\n        </div>\n      </div>\n\n      {/* Question Text */}\n      <h2 className=\"qc-question-text\">\n        {question.text?.[lang] || question.text?.en || \"\"}\n      </h2>\n\n      {/* Options (MULTI & LIKERT ê³µí†µ) */}\n      <div className=\"qc-options\">\n        {answerOptions.map((opt, idx) => {\n          const selected = answer === opt;\n\n          return (\n            <div\n              key={idx}\n              className={`qc-option ${selected ? \"selected\" : \"\"}`}\n              onClick={() => handleSelect(opt)}\n            >\n              {/* ğŸ”¹ ì•„ì´ì½˜ ëŒ€ì‹  ë²ˆí˜¸ ë””ìì¸ */}\n              <span className=\"qc-option-number\">{idx + 1}</span>\n\n              {/* ì˜µì…˜ í…ìŠ¤íŠ¸ */}\n              <span className=\"qc-option-label\">{opt}</span>\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Navigation Buttons */}\n      <div className=\"qc-nav-buttons\">\n        <button\n          disabled={isFirstQuestion}\n          className=\"qc-btn back\"\n          onClick={onBack}\n        >\n          â† Back\n        </button>\n\n        <button className=\"qc-btn skip\" onClick={onSkip}>\n          â­ Skip\n        </button>\n\n        <button className=\"qc-btn jump\" onClick={onJump}>\n          â†’ Jump\n        </button>\n\n        <button\n          disabled={!answer}\n          className=\"qc-btn next\"\n          onClick={onNext}\n        >\n          Next â†’\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default QuestionCard;\n","import React from \"react\";\nimport useGameStore from \"../store/gameStore\";\nimport \"./GameHeader.css\";\n\nconst GameHeader = ({ overallProgress }) => {\n  const { user, gameStats } = useGameStore();\n\n  return (\n    <div className=\"game-header\">\n      {/* ì‚¬ìš©ì ì •ë³´ ì„¹ì…˜ */}\n      <div className=\"user-info-section\">\n        <div className=\"user-avatar\">{user?.avatar || \"ğŸ“\"}</div>\n        <div className=\"user-details\">\n          <div className=\"user-name\">{user?.name || \"Student\"}</div>\n          <div className=\"user-meta\">\n            {user?.studentId && <span>ID: {user.studentId}</span>}\n            {user?.department && <span className=\"user-dept\">{user.department}</span>}\n          </div>\n        </div>\n      </div>\n\n      {/* ì „ì²´ ì§„í–‰ë¥  */}\n      {overallProgress && (\n        <div className=\"overall-progress-section\">\n          <div className=\"progress-text\">\n            Overall Progress: {overallProgress.current} / {overallProgress.total}\n          </div>\n          <div className=\"progress-bar-container\">\n            <div \n              className=\"progress-bar-fill\" \n              style={{ width: `${(overallProgress.current / overallProgress.total) * 100}%` }}\n            />\n          </div>\n        </div>\n      )}\n\n      {/* ê²Œì„ ìŠ¤íƒ¯ */}\n      <div className=\"stats-row\">\n        <div className=\"stat-box\">\n          <div className=\"stat-icon\">â­</div>\n          <div className=\"stat-value\">{gameStats?.level || 1}</div>\n          <div className=\"stat-label\">Level</div>\n        </div>\n\n        <div className=\"stat-box\">\n          <div className=\"stat-icon\">ğŸ’¯</div>\n          <div className=\"stat-value\">{gameStats?.experience || 0}</div>\n          <div className=\"stat-label\">EXP</div>\n        </div>\n\n        <div className=\"stat-box\">\n          <div className=\"stat-icon\">ğŸ”¥</div>\n          <div className=\"stat-value\">{gameStats?.streak || 0}</div>\n          <div className=\"stat-label\">Streak</div>\n        </div>\n\n        <div className=\"stat-box\">\n          <div className=\"stat-icon\">ğŸª™</div>\n          <div className=\"stat-value\">{gameStats?.coins || 0}</div>\n          <div className=\"stat-label\">Coins</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default GameHeader;\n","import React from \"react\";\nimport \"./EndScene.css\";\n\nexport default function EndScene({ onComplete }) {\n  return (\n    <div className=\"end-scene\">\n      <div className=\"end-scene-card\">\n        <div className=\"celebration-emoji\">ğŸ‰</div>\n        <h1>Great Job!</h1>\n        <p>Your survey game mission has been successfully completed!</p>\n        <p className=\"thank-you\">Thank you for your valuable feedback.</p>\n\n        <div className=\"end-buttons\">\n          {onComplete && (\n            <button className=\"end-btn primary\" onClick={onComplete}>\n              ğŸ† View Leaderboard\n            </button>\n          )}\n\n          <button\n            className=\"end-btn secondary\"\n            onClick={() => window.location.reload()}\n          >\n            ğŸ  Return to Home\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","// src/screens/SurveyGame.jsx  (ë˜ëŠ” í˜„ì¬ ìœ„ì¹˜ì— ë§ê²Œ)\n\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { db } from \"../firebase/config\";\nimport useGameStore from \"../store/gameStore\";\nimport QuestionCard from \"../components/QuestionCard\";\nimport GameHeader from \"../components/GameHeader\";\nimport EndScene from \"../components/EndScene\";\nimport toast from \"react-hot-toast\";\nimport \"./SurveyGame.css\";\n\n/**\n * âœ… ì„¤ë¬¸ ì„¹ì…˜ ì§„í–‰ ìˆœì„œ (êµìˆ˜ë‹˜ì´ ì£¼ì‹  ìˆœì„œ ê·¸ëŒ€ë¡œ)\n */\nconst SECTION_ORDER = [\n  \"Personal Background\",\n  \"Orientation Week Team Building\",\n  \"Admissions\",\n  \"Faculty\",\n  \"Education and Curriculum\",\n  \"Academic Advisor\",\n  \"Academic Affairs\",\n  \"Study Abroad\",\n  \"Student Services\",\n  \"Residence\",\n  \"Facilities\",\n  \"IT Resources: SAIS, SMART, E-Mail & Attendance App\",\n  \"Library\",\n  \"Meals\",\n  \"Counseling Services\",\n  \"Student Belongingness\",\n  \"Extra-curricular Activities\",\n  \"Employment in Korea\",\n  \"Frequency Mode\",\n  \"At a Glance\",\n];\n\n/**\n * id: \"Q171\" ì²˜ëŸ¼ ë¬¸ìì—´ì¼ ë•Œ ìˆ«ì ë¶€ë¶„ë§Œ êº¼ë‚´ì„œ ì •ë ¬ì— ì‚¬ìš©\n */\nconst getNumericId = (id) => {\n  if (!id) return Number.MAX_SAFE_INTEGER;\n  const match = String(id).match(/\\d+/);\n  return match ? Number(match[0]) : Number.MAX_SAFE_INTEGER;\n};\n\n/**\n * ì˜µì…˜ ë¬¸ìì—´ â†’ ë°°ì—´ ë³€í™˜\n *  - \"A|B|C\" ë˜ëŠ” \"A,B,C\" ëª¨ë‘ ëŒ€ì‘\n */\nconst getOptionsArray = (options) => {\n  if (!options) return [];\n  if (Array.isArray(options)) return options;\n\n  return String(options)\n    .split(/[\\|,]/g)\n    .map((o) => o.trim())\n    .filter((o) => o.length > 0);\n};\n\nconst SurveyGame = ({ onComplete }) => {\n  const { user, answerQuestion } = useGameStore();\n\n  const [sections, setSections] = useState([]); // [{ name, questions: [...] }]\n  const [loading, setLoading] = useState(true);\n\n  const [currentSectionIndex, setCurrentSectionIndex] = useState(0);\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n\n  const [answers, setAnswers] = useState({}); // { docId: { value, skipped, timeSpent } }\n  const [startTime, setStartTime] = useState(Date.now());\n  const [finished, setFinished] = useState(false);\n\n  const lang = user?.language || \"en\";\n\n  // --------------------------------\n  // ğŸ”„ Firestoreì—ì„œ ì§ˆë¬¸ ë¡œë”©\n  // --------------------------------\n  useEffect(() => {\n    const loadQuestions = async () => {\n      try {\n        setLoading(true);\n\n        const snap = await getDocs(collection(db, \"questions\"));\n        let list = snap.docs.map((doc) => ({\n          docId: doc.id,\n          ...doc.data(),\n        }));\n\n        // 1) Që²ˆí˜¸ ê¸°ì¤€ ì •ë ¬ (Q1 < Q2 < Q10 < Q100 ...)\n        list.sort((a, b) => getNumericId(a.id) - getNumericId(b.id));\n\n        // 2) ì¹´í…Œê³ ë¦¬ë³„ ê·¸ë£¹í•‘\n        const grouped = {};\n        for (const q of list) {\n          const cat = q.category || \"Others\";\n          if (!grouped[cat]) grouped[cat] = [];\n          grouped[cat].push(q);\n        }\n\n        // 3) êµìˆ˜ë‹˜ì´ ì£¼ì‹  ì„¹ì…˜ ìˆœì„œëŒ€ë¡œ ì •ë ¬ëœ ì„¹ì…˜ ë°°ì—´ ë§Œë“¤ê¸°\n        const orderedSections = SECTION_ORDER.reduce((acc, name) => {\n          const qs = grouped[name];\n          if (qs && qs.length > 0) {\n            acc.push({\n              name,\n              questions: qs,\n            });\n          }\n          return acc;\n        }, []);\n\n        if (orderedSections.length === 0) {\n          toast.error(\"No questions found in Firestore\");\n        }\n\n        setSections(orderedSections);\n        setCurrentSectionIndex(0);\n        setCurrentQuestionIndex(0);\n        setAnswers({});\n        setFinished(false);\n        setStartTime(Date.now());\n      } catch (err) {\n        console.error(\"âŒ Failed to load questions:\", err);\n        toast.error(\"Failed to load questions\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadQuestions();\n  }, []);\n\n  // --------------------------------\n  // â„¹ï¸ í˜„ì¬ ì„¹ì…˜ / ë¬¸í•­ ê³„ì‚°\n  // --------------------------------\n  const currentSection = sections[currentSectionIndex] || null;\n  const sectionQuestions = currentSection ? currentSection.questions : [];\n  const currentQuestion =\n    sectionQuestions.length > 0 ? sectionQuestions[currentQuestionIndex] : null;\n\n  // ì „ì²´ ë¬¸í•­ ìˆ˜\n  const overallTotal = useMemo(\n    () => sections.reduce((sum, s) => sum + s.questions.length, 0),\n    [sections]\n  );\n\n  // ì§€ê¸ˆê¹Œì§€ ì‘ë‹µ(í˜¹ì€ ìŠ¤í‚µ)í•œ ë¬¸í•­ ìˆ˜ â†’ ì „ì²´ ì§„í–‰ë¥ \n  const answeredCount = useMemo(\n    () => Object.keys(answers).length,\n    [answers]\n  );\n\n  const overallProgress = {\n    current: answeredCount,\n    total: overallTotal,\n  };\n\n  // í˜„ì¬ ì„¹ì…˜ ë‚´ì—ì„œì˜ ë²ˆí˜¸ (1-based)\n  const sectionIndex = currentQuestionIndex + 1;\n  const sectionTotal = sectionQuestions.length;\n\n  // --------------------------------\n  // â® ì´ì „ ë¬¸í•­ìœ¼ë¡œ ì´ë™\n  // --------------------------------\n  const handleBack = () => {\n    if (!sections.length) return;\n\n    // ì²« ì„¹ì…˜ì˜ ì²« ë¬¸í•­ì´ë©´ ë” ì´ìƒ ë’¤ë¡œ ê°ˆ ìˆ˜ ì—†ìŒ\n    if (currentSectionIndex === 0 && currentQuestionIndex === 0) return;\n\n    // ê°™ì€ ì„¹ì…˜ ë‚´ì—ì„œ ì´ì „ ë¬¸í•­\n    if (currentQuestionIndex > 0) {\n      setCurrentQuestionIndex((prev) => prev - 1);\n      setStartTime(Date.now());\n      return;\n    }\n\n    // ì´ì „ ì„¹ì…˜ì˜ ë§ˆì§€ë§‰ ë¬¸í•­ìœ¼ë¡œ ì´ë™\n    const prevSectionIndex = currentSectionIndex - 1;\n    const prevSection = sections[prevSectionIndex];\n    const lastIndexInPrevSection = prevSection.questions.length - 1;\n\n    setCurrentSectionIndex(prevSectionIndex);\n    setCurrentQuestionIndex(lastIndexInPrevSection);\n    setStartTime(Date.now());\n  };\n\n  // --------------------------------\n  // â–¶ ê³µí†µ: ì‘ë‹µ ê¸°ë¡ (ì‹¤ì œ ë‹µë³€, ìŠ¤í‚µ ë‘˜ ë‹¤)\n  // --------------------------------\n  const recordAnswer = (q, value, skipped = false) => {\n    const now = Date.now();\n    const timeSpent = (now - startTime) / 1000;\n\n    setAnswers((prev) => ({\n      ...prev,\n      [q.docId]: { value, skipped, timeSpent },\n    }));\n\n    // ì ìˆ˜/ê²½í—˜ì¹˜ ë°˜ì˜ (ìŠ¤í‚µë„ ì¼ë‹¨ ë™ì¼í•˜ê²Œ ì²˜ë¦¬)\n    answerQuestion(timeSpent, \"good\");\n    setStartTime(Date.now());\n  };\n\n  // --------------------------------\n  // â­ ë‹¤ìŒ ë¬¸í•­ ë˜ëŠ” ë‹¤ìŒ ì„¹ì…˜/ì¢…ë£Œë¡œ ì´ë™\n  // --------------------------------\n  const goNext = () => {\n    if (!sections.length || !currentSection) return;\n\n    const isLastQuestionInSection =\n      currentQuestionIndex >= sectionQuestions.length - 1;\n    const isLastSection =\n      currentSectionIndex >= sections.length - 1;\n\n    // ì„¹ì…˜ ë‚´ì—ì„œ ë‹¤ìŒ ë¬¸í•­\n    if (!isLastQuestionInSection) {\n      setCurrentQuestionIndex((prev) => prev + 1);\n      setStartTime(Date.now());\n      return;\n    }\n\n    // ë§ˆì§€ë§‰ ì„¹ì…˜ì˜ ë§ˆì§€ë§‰ ë¬¸í•­ â†’ ì„¤ë¬¸ ì¢…ë£Œ\n    if (isLastSection) {\n      toast.success(\"ğŸ‰ All survey completed!\");\n      setFinished(true);\n      if (onComplete) onComplete();\n      return;\n    }\n\n    // ë‹¤ìŒ ì„¹ì…˜ì˜ ì²« ë¬¸í•­ìœ¼ë¡œ ì´ë™\n    setCurrentSectionIndex((prev) => prev + 1);\n    setCurrentQuestionIndex(0);\n    setStartTime(Date.now());\n  };\n\n  // --------------------------------\n  // âœ… ì‹¤ì œ ë‹µë³€(Next)\n  // --------------------------------\n  const handleAnswer = (value) => {\n    if (!currentQuestion) return;\n    recordAnswer(currentQuestion, value, false);\n    goNext();\n  };\n\n  // --------------------------------\n  // â­ Skip (ë‹µë³€ ì—†ì´ ë‹¤ìŒ ë¬¸í•­)\n  // --------------------------------\n  const handleSkip = () => {\n    if (!currentQuestion) return;\n    recordAnswer(currentQuestion, null, true);\n    goNext();\n  };\n\n  // --------------------------------\n  // â© Jump (í˜„ì¬ í¬í•¨ ~ ì„¹ì…˜ ë§ˆì§€ë§‰ ì „ê¹Œì§€ ìŠ¤í‚µ í›„ ë§ˆì§€ë§‰ ë¬¸í•­ìœ¼ë¡œ ì í”„)\n  // --------------------------------\n  const handleJump = () => {\n    if (!currentSection || !currentQuestion) return;\n\n    const lastIndex = sectionQuestions.length - 1;\n    if (currentQuestionIndex >= lastIndex) {\n      // ì´ë¯¸ ë§ˆì§€ë§‰ ë¬¸í•­ì´ë©´ ê·¸ëƒ¥ ìœ ì§€\n      return;\n    }\n\n    const now = Date.now();\n    const baseTimeSpent = (now - startTime) / 1000;\n\n    setAnswers((prev) => {\n      const updated = { ...prev };\n\n      // í˜„ì¬ ~ ë§ˆì§€ë§‰-1 ë¬¸í•­ê¹Œì§€ ëª¨ë‘ ìŠ¤í‚µ ì²˜ë¦¬\n      for (let i = currentQuestionIndex; i < lastIndex; i += 1) {\n        const q = sectionQuestions[i];\n        if (!updated[q.docId]) {\n          updated[q.docId] = {\n            value: null,\n            skipped: true,\n            timeSpent: i === currentQuestionIndex ? baseTimeSpent : 0,\n          };\n        }\n      }\n\n      return updated;\n    });\n\n    // ê²½í—˜ì¹˜ í•˜ë‚˜ë§Œ ë°˜ì˜ (ê³¼í•˜ë‹¤ ì‹¶ìœ¼ë©´ ì œê±° ê°€ëŠ¥)\n    answerQuestion(baseTimeSpent, \"good\");\n\n    // ì„¹ì…˜ ë§ˆì§€ë§‰ ë¬¸í•­ìœ¼ë¡œ ì´ë™\n    setCurrentQuestionIndex(lastIndex);\n    setStartTime(Date.now());\n  };\n\n  // --------------------------------\n  // ğŸ”š ì „ì²´ ì„¤ë¬¸ ì™„ë£Œ ì‹œ EndScene í‘œì‹œ\n  // --------------------------------\n  if (finished) {\n    return <EndScene onComplete={onComplete} />;\n  }\n\n  // --------------------------------\n  // â³ ë¡œë”© / ì˜ˆì™¸ ì²˜ë¦¬ í™”ë©´\n  // --------------------------------\n  if (loading) {\n    return (\n      <div className=\"survey-container\">\n        <div className=\"loading-screen\">Loading questions...</div>\n      </div>\n    );\n  }\n\n  if (!currentSection || !currentQuestion) {\n    return (\n      <div className=\"survey-container\">\n        <div className=\"loading-screen\">No questions available</div>\n      </div>\n    );\n  }\n\n  // --------------------------------\n  // ğŸ”§ QuestionCardì— ë„˜ê¸¸ ë°ì´í„° ì •ë¦¬\n  // --------------------------------\n  const formatted = {\n    text:\n      currentQuestion.text?.[lang] ||\n      currentQuestion.text?.en ||\n      \"\",\n    section: currentSection.name,\n    type: currentQuestion.type,\n    options: getOptionsArray(currentQuestion.options),\n    required: true,\n  };\n\n  return (\n    <div className=\"survey-container\">\n      {/* ìƒë‹¨ ê²Œì„ í—¤ë” (ì „ì²´ ì§„í–‰ë¥  í‘œì‹œ) */}\n      <GameHeader overallProgress={overallProgress} />\n\n      {/* ì‹¤ì œ ì§ˆë¬¸ ì¹´ë“œ */}\n      <QuestionCard\n        key={currentQuestion.docId}\n        question={formatted}\n        // ì„¹ì…˜ ë‚´ ë²ˆí˜¸ / ì „ì²´ ë¬¸í•­ ìˆ˜\n        questionNumber={sectionIndex}\n        totalQuestions={sectionTotal}\n        // ì „ì²´ ì§„í–‰ (í•„ìš” ì—†ìœ¼ë©´ QuestionCard ë‚´ë¶€ì—ì„œ ë¬´ì‹œ)\n        overallNumber={answeredCount + 1}\n        overallTotal={overallTotal}\n        // ì„¹ì…˜ ì •ë³´\n        chapterNumber={currentSectionIndex + 1}\n        chapterName={currentSection.name}\n        sectionIndex={sectionIndex}\n        sectionTotal={sectionTotal}\n        // ë²„íŠ¼ ì•¡ì…˜\n        onAnswer={handleAnswer}\n        onBack={handleBack}\n        onSkip={handleSkip}\n        onJump={handleJump}\n      />\n    </div>\n  );\n};\n\nexport default SurveyGame;\n"],"names":["_ref","_question$text","_question$text2","question","lang","answer","onAnswer","onNext","onBack","onSkip","onJump","isLastQuestion","isFirstQuestion","currentIndex","totalInSection","qType","type","toLowerCase","normalizedOptions","Array","isArray","options","split","answerOptions","_jsxs","className","children","sectionIndex","category","_jsx","text","en","map","opt","idx","selected","concat","onClick","handleSelect","disabled","overallProgress","user","gameStats","useGameStore","avatar","name","studentId","department","current","total","style","width","level","experience","streak","coins","EndScene","onComplete","window","location","reload","SECTION_ORDER","getNumericId","id","Number","MAX_SAFE_INTEGER","match","String","_currentQuestion$text","_currentQuestion$text2","answerQuestion","sections","setSections","useState","loading","setLoading","currentSectionIndex","setCurrentSectionIndex","currentQuestionIndex","setCurrentQuestionIndex","answers","setAnswers","startTime","setStartTime","Date","now","finished","setFinished","language","useEffect","async","list","getDocs","collection","db","docs","doc","_objectSpread","docId","data","sort","a","b","grouped","q","cat","push","orderedSections","reduce","acc","qs","length","questions","toast","error","err","console","loadQuestions","currentSection","sectionQuestions","currentQuestion","overallTotal","useMemo","sum","s","answeredCount","Object","keys","sectionTotal","recordAnswer","value","skipped","arguments","undefined","timeSpent","prev","goNext","isLastQuestionInSection","isLastSection","success","formatted","section","o","trim","filter","required","GameHeader","QuestionCard","questionNumber","totalQuestions","overallNumber","chapterNumber","chapterName","handleBack","prevSectionIndex","lastIndexInPrevSection","handleSkip","handleJump","lastIndex","baseTimeSpent","updated","i"],"ignoreList":[],"sourceRoot":""}